// ┌──────────┐
// │ Tooltips │
// └──────────┘
//  ↳ http://esri.github.io/calcite-web/components/#tooltips
//  ↳ components → _tooltips.md
@if $include-tooltip {
  $multiline-max-width: 250px;

  .tooltip {
    cursor: pointer;
    position: relative;

    &::after {
      background: $transparent-black;
      border-radius: 3px;
      color: $white;
      content: attr(aria-label);
      display: none;
      padding: $baseline / 4 $baseline / 2;
      pointer-events: none;
      position: absolute;
      text-align: center;
      white-space: pre;
      word-wrap: break-word;
      z-index: 1000000;

      @include font-size(-2);
    }
  }

  .tooltip::before {
    border: 5px solid transparent;
    color: $transparent-black;
    content: "";
    display: none;
    height: 0;
    pointer-events: none;
    position: absolute;
    width: 0;
    z-index: 1000001;
  }

  .tooltip {
    &:hover, &:active, &:focus {
      text-decoration: none;

      &::before, &::after {
        display: inline-block;
      }
    }
  }

  .tooltip-multiline {
    &:hover, &:active, &:focus {
      &::after {
        display: table-cell;
      }
    }
  }

  // Default is bottom
  .tooltip {
    &::after {
      line-height: 1.5;
      margin-top: 5px;
      right: 50%;
      top: 100%;
    }

    &::before {
      border-bottom-color: $transparent-black;
      bottom: -5px;
      margin-right: -5px;
      right: 50%;
      top: auto;
    }
  }

  .tooltip-top {
    &::after {
      bottom: 100%;
      margin-bottom: 5px;
      right: 50%;
      top: auto;
    }

    &::before {
      border-bottom: 5px solid transparent;
      border-top-color: $transparent-black;
      bottom: auto;
      margin-right: -5px;
      right: 50%;
      top: -5px;
    }
  }

  .tooltip::after, .tooltip-bottom::after {
    @include transform(translateX(50%));
  }

  .tooltip-left {
    &::after {
      bottom: 50%;
      margin-bottom: inherit;
      margin-right: 5px;
      right: 100%;
      top: auto;

      @include transform(translateY(50%));

      @if ($include-right-to-left) {
        html[dir="rtl"] & {
          left: 100%;
          margin-left: 5px;
          margin-right: 0;
          right: auto;
        }
      }
    }

    &::before {
      border-bottom: 5px solid transparent;
      border-left-color: $transparent-black;
      bottom: 50%;
      left: -5px;
      margin-top: -5px;
      top: 50%;

      @if ($include-right-to-left) {
        html[dir="rtl"] & {
          border-left-color: transparent;
          border-right-color: $transparent-black;
          left: auto;
          margin-right: 0;
          right: -5px;
        }
      }
    }
  }

  .tooltip-right {
    &::after {
      bottom: 50%;
      left: 100%;
      margin-left: 5px;
      right: auto;
      top: auto;

      @if ($include-right-to-left) {
        html[dir="rtl"] & {
          left: auto;
          margin-left: 0;
          margin-right: 5px;
          right: 100%;
        }
      }

      @include transform(translateY(50%));
    }

    &::before {
      border-bottom: 5px solid transparent;
      border-right-color: $transparent-black;
      bottom: 50%;
      margin-right: 0;
      margin-top: -5px;
      right: -5px;
      top: 50%;

      @if ($include-right-to-left) {
        html[dir="rtl"] & {
          border-left-color: $transparent-black;
          border-right-color: transparent;
          left: -5px;
          right: auto;
        }
      }
    }
  }

  .tooltip-multiline {
    &::after {
      border-collapse: separate;
      max-width: $multiline-max-width;
      white-space: pre-line;
      width: -moz-max-content;
      width: -webkit-max-content;
      word-break: break-word;
      word-wrap: normal;
    }

    &.tooltip-bottom::after, &.tooltip-top::after {
      left: 50%;
      right: auto;

      @include transform(translateX(-50%));
    }

    &.tooltip-left::after, &.tooltip-right::after {
      right: 100%;
    }
  }

  // cool ie fix
  // http://keithclark.co.uk/articles/moving-ie-specific-css-into-media-blocks/media-tests/
  @media screen and (min-width:0\0) {
    .tooltip-multiline::after {
      width: $multiline-max-width;
    }
  }
}
